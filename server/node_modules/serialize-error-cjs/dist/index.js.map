{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import { errorConstructors } from './constructors';\nexport { errorConstructors };\n\nconst getErrorConstructor = (name: string) => errorConstructors.get(name) ?? Error;\n\nconst commonProperties: { property: string, enumerable: boolean }[] = [\n  {\n    property: 'message',\n    enumerable: false,\n  },\n  {\n    property: 'stack',\n    enumerable: false,\n  },\n  {\n    property: 'code',\n    enumerable: true,\n  },\n  {\n    property: 'cause',\n    enumerable: false,\n  },\n];\n\nexport type SerializedError = {\n  name: string;\n  message: string;\n  stack: string;\n  code?: string|number;\n  cause?: string;\n};\n\nexport function serializeError(subject: Error): SerializedError {\n  const data: SerializedError = {\n    name   : 'Error',\n    message: '',\n    stack  : '',\n  };\n  for(const { property } of commonProperties) {\n    if (!(property in subject)) continue;\n    data[property] = subject[property];\n  }\n  if (globalThis.DOMException && (subject instanceof globalThis.DOMException)) {\n    data.name = 'DOMException';\n  } else {\n    data.name = Object.getPrototypeOf(subject).name;\n  }\n  return data;\n}\n\nexport function deserializeError(subject: SerializedError): Error {\n  const fn = getErrorConstructor(subject.name);\n  const output = new fn();\n\n  for(const { property, enumerable } of commonProperties) {\n    if (!(property in subject)) continue;\n    Object.defineProperty(output, property, {\n      value: subject[property],\n      enumerable,\n      configurable: true,\n      writable: true,\n    });\n  }\n\n  return output;\n}\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkC;AAGlC,MAAM,sBAAsB,CAAC,SAAc;AAH3C;AAG8C,qDAAkB,IAAI,IAAI,MAA1B,YAA+B;AAAA;AAE7E,MAAM,mBAAgE;AAAA,EACpE;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AACF;AAUO,SAAS,eAAe,SAAiC;AAC9D,QAAM,OAAwB;AAAA,IAC5B,MAAS;AAAA,IACT,SAAS;AAAA,IACT,OAAS;AAAA,EACX;AACA,aAAU,EAAE,SAAS,KAAK,kBAAkB;AAC1C,QAAI,EAAE,YAAY,SAAU;AAC5B,SAAK,QAAQ,IAAI,QAAQ,QAAQ;AAAA,EACnC;AACA,MAAI,WAAW,gBAAiB,mBAAmB,WAAW,cAAe;AAC3E,SAAK,OAAO;AAAA,EACd,OAAO;AACL,SAAK,OAAO,OAAO,eAAe,OAAO,EAAE;AAAA,EAC7C;AACA,SAAO;AACT;AAEO,SAAS,iBAAiB,SAAiC;AAChE,QAAM,KAAK,oBAAoB,QAAQ,IAAI;AAC3C,QAAM,SAAS,IAAI,GAAG;AAEtB,aAAU,EAAE,UAAU,WAAW,KAAK,kBAAkB;AACtD,QAAI,EAAE,YAAY,SAAU;AAC5B,WAAO,eAAe,QAAQ,UAAU;AAAA,MACtC,OAAO,QAAQ,QAAQ;AAAA,MACvB;AAAA,MACA,cAAc;AAAA,MACd,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAEA,SAAO;AACT;",
  "names": []
}
